(this["webpackJsonpdistance-app"]=this["webpackJsonpdistance-app"]||[]).push([[0],{12:function(e,t,a){e.exports={Container:"Geocode_Container__1DPIe",Form:"Geocode_Form__Wi9Zw",Title:"Geocode_Title__3CHwQ",Button:"Geocode_Button__32cu_",TextInput:"Geocode_TextInput__20ofc",Radio:"Geocode_Radio__A3INC"}},21:function(e,t,a){e.exports={Header:"App_Header__ZS1m2",Main:"App_Main__HQkvd",Footer:"App_Footer__XLEFd"}},28:function(e,t,a){e.exports=a.p+"static/media/location_icon.2ceaf661.svg"},33:function(e,t,a){e.exports=a(46)},38:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(17),s=a.n(r),c=(a(38),a(22)),l=a.n(c),i=a(30),p=a(14),m=a(9),u=a.n(m),b=a(24),d=a(27),_=a(25),h=a(26),j=a(2),O=a.n(j),f=(a(40),a(31)),E=O.a.icon({iconUrl:a(28),iconRetinaUrl:a(28),iconSize:[35,35],iconAnchor:[10,27],className:"leaflet-location-icon"}),v=function(e){function t(e){return+(Math.round(e+"e+2")+"e-2")}function a(){var a=3963*Math.acos(Math.sin(e.responseObj[0].lat/57.29577951)*Math.sin(e.responseObj[1].lat/57.29577951)+Math.cos(e.responseObj[0].lat/57.29577951)*Math.cos(e.responseObj[1].lat/57.29577951)*Math.cos(e.responseObj[1].lon/57.29577951-e.responseObj[0].lon/57.29577951));return[t(1.609344*a),t(a)]}return o.a.createElement("div",null,e.error&&o.a.createElement("p",{className:u.a.Error},"Did not receive data back from server.\n Check if you entered cities correctly, if yes then likely there is some server issue."),"Data \xa9 OpenStreetMap contributors, ODbL 1.0. https://osm.org/copyright"===e.responseObj[0].licence?o.a.createElement("div",{className:u.a.ResultBox},o.a.createElement("div",{className:u.a.DistanceBox},o.a.createElement("p",null,"Distance between cities: ",a()[0]," [km] | ",a()[1]," [mi]")),o.a.createElement("div",{className:u.a.MapBox},void 0!==e.responseObj[1].lat?o.a.createElement(b.a,{center:{lat:(Number(e.responseObj[0].lat)+Number(e.responseObj[1].lat))/2,lon:(Number(e.responseObj[0].lon)+Number(e.responseObj[1].lon))/2},zoom:function(){var e=a()[0];return e<250?8:e>250&&e<500?7:e>500&&e<1e3?6:e>1e3&&e<3e3?5:e>3e3&&e<5e3?4:e>5e3&&e<7e3?3:2}()},o.a.createElement(d.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),o.a.createElement(_.a,{position:[e.responseObj[0].lat,e.responseObj[0].lon],icon:E},o.a.createElement(h.a,null,o.a.createElement("p",{className:u.a.PopupTitle},e.responseObj[0].display_name),o.a.createElement("p",{className:u.a.PopupDesc},"Lat: ",t(e.responseObj[0].lat)," Lon: ",t(e.responseObj[0].lon)))),o.a.createElement(_.a,{position:[e.responseObj[1].lat,e.responseObj[1].lon],icon:E},o.a.createElement(h.a,null,o.a.createElement("p",{className:u.a.PopupTitle},e.responseObj[1].display_name),o.a.createElement("p",{className:u.a.PopupDesc},"Lat: ",t(e.responseObj[1].lat)," Lon: ",t(e.responseObj[1].lon)))),o.a.createElement(f.GeodesicLine,{positions:[[Number(e.responseObj[0].lat),Number(e.responseObj[0].lon)],[Number(e.responseObj[1].lat),Number(e.responseObj[1].lon)]]})):null)):null)},N=a(12),y=a.n(N),x=function(){var e=Object(n.useState)({}),t=Object(p.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)({}),c=Object(p.a)(s,2),m=c[0],u=c[1],b=Object(n.useState)(""),d=Object(p.a)(b,2),_=d[0],h=d[1],j=Object(n.useState)(""),O=Object(p.a)(j,2),f=O[0],E=O[1],N=Object(n.useState)(!1),x=Object(p.a)(N,2),g=x[0],D=x[1],w=encodeURIComponent(_),M=encodeURIComponent(f);function B(){return(B=Object(i.a)(l.a.mark((function e(t){var a,n,o,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r({}),u({}),e.prev=3,e.next=6,Promise.all([fetch("https://nominatim.openstreetmap.org/search?city=".concat(w,"&format=json&limit=1")).then((function(e){return e.json()})),fetch("https://nominatim.openstreetmap.org/search?city=".concat(M,"&format=json&limit=1")).then((function(e){return e.json()}))]);case 6:if(a=e.sent,n=Object(p.a)(a,2),o=n[0],s=n[1],void 0!==o[0].licence||void 0!==s[0].licence){e.next=14;break}throw new Error;case 14:r(o[0]),u(s[0]);case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(3),D(!0),console.log(e.t0.message);case 22:case"end":return e.stop()}}),e,null,[[3,18]])})))).apply(this,arguments)}return o.a.createElement("div",{className:y.a.Container},o.a.createElement("form",{className:y.a.Form,onSubmit:function(e){return B.apply(this,arguments)}},o.a.createElement("label",{className:y.a.Title},"Enter first city",o.a.createElement("input",{type:"text",placeholder:"E.g. London",maxLength:"50",value:_,onChange:function(e){return h(e.target.value)},className:y.a.TextInput})),o.a.createElement("label",{className:y.a.Title},"Enter second city",o.a.createElement("input",{type:"text",placeholder:"E.g. Berlin",maxLength:"50",value:f,onChange:function(e){return E(e.target.value)},className:y.a.TextInput})),o.a.createElement("button",{type:"submit",className:y.a.Button},"Calculate distance between")),o.a.createElement(v,{responseObj:[a,m],error:g}))},g=(a(45),a(21)),D=a.n(g);var w=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:D.a.Header},"Distance between cities"),o.a.createElement("main",{className:D.a.Main},o.a.createElement(x,null)),o.a.createElement("footer",{className:D.a.Footer},"Created by jacksonafide."))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){e.exports={ResultBox:"Display_ResultBox__1iFv1",MapBox:"Display_MapBox__1UnLL",DistanceBox:"Display_DistanceBox__2q7nd",PopupTitle:"Display_PopupTitle__D0m2I",PopupDesc:"Display_PopupDesc__2FOC8",Error:"Display_Error__1e8yQ"}}},[[33,1,2]]]);
//# sourceMappingURL=main.8011cfbb.chunk.js.map